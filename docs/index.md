---
layout: ""
page_title: "Provider: Flux"
description: |-
  The Flux provider can be used to install and configure Flux in a Kubernetes cluster.
---

# Flux Provider

The Flux provider can be used to install and configure [Flux](https://github.com/fluxcd/flux2/) in a Kubernetes cluster.

The provider needs to be configured with Kubernetes credentials to be used.

## Example Usage

Get Kubernetes credentials from a kubeconfig file. The current context set in the kubeconfig file will be used by default.

```terraform
provider "flux" {
  kubernetes = {
    config_path = "~/.kube/config"
  }
  git = {
    url = "https://example.com"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `git` (Attributes) Configuration block with settings for Kubernetes. (see [below for nested schema](#nestedatt--git))
- `kubernetes` (Attributes) Configuration block with settings for Kubernetes. (see [below for nested schema](#nestedatt--kubernetes))

<a id="nestedatt--git"></a>
### Nested Schema for `git`

Required:

- `url` (String) Url of git repository to bootstrap from.

Optional:

- `author_email` (String) Author email for Git commits.
- `author_name` (String) Author name for Git commits. Defaults to `Flux`.
- `branch` (String) Branch in repository to reconcile from. Defaults to `main`.
- `commit_message_appendix` (String) String to add to the commit messages.
- `gpg_key_id` (String) Key id for selecting a particular key.
- `gpg_key_ring` (String) GPG key ring for signing commits.
- `gpg_passphrase` (String, Sensitive) Passphrase for decrypting GPG private key.
- `http` (Attributes) (see [below for nested schema](#nestedatt--git--http))
- `read_only` (Boolean) If true, Flux will not commit/push any git repo changes. Defaults to false
- `ssh` (Attributes) (see [below for nested schema](#nestedatt--git--ssh))

<a id="nestedatt--git--http"></a>
### Nested Schema for `git.http`

Optional:

- `allow_insecure_http` (Boolean) Allows http Git url connections.
- `certificate_authority` (String) Certificate authority to validate self-signed certificates.
- `password` (String, Sensitive) Password for basic authentication.
- `username` (String) Username for basic authentication.


<a id="nestedatt--git--ssh"></a>
### Nested Schema for `git.ssh`

Optional:

- `password` (String, Sensitive) Password for private key.
- `private_key` (String, Sensitive) Private key used for authenticating to the Git SSH server.
- `username` (String) Username for Git SSH server.



<a id="nestedatt--kubernetes"></a>
### Nested Schema for `kubernetes`

Optional:

- `client_certificate` (String) PEM-encoded client certificate for TLS authentication.
- `client_key` (String) PEM-encoded client certificate key for TLS authentication.
- `cluster_ca_certificate` (String) PEM-encoded root certificates bundle for TLS authentication.
- `config_context` (String)
- `config_context_auth_info` (String)
- `config_context_cluster` (String)
- `config_path` (String) Path to the kube config file. Can be set with KUBE_CONFIG_PATH.
- `config_paths` (Set of String) A list of paths to kube config files. Can be set with KUBE_CONFIG_PATHS environment variable.
- `host` (String) The hostname (in form of URI) of Kubernetes master.
- `insecure` (Boolean) Whether server should be accessed without verifying the TLS certificate.
- `password` (String) The password to use for HTTP basic authentication when accessing the Kubernetes master endpoint.
- `proxy_url` (String) URL to the proxy to be used for all API requests
- `token` (String) Token to authenticate an service account
- `username` (String) The username to use for HTTP basic authentication when accessing the Kubernetes master endpoint.